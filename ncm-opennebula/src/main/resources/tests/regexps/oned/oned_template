OpenNebula oned template full test
---
multiline
---
^AUTH_MAD\s?=\s?\[$
^\s{4}authn\s?=\s?"ssh,x509,ldap,server_cipher,server_x509",$
^\s{4}executable\s?=\s?"one_auth_mad"$
^\]$
^DATASTORE_CAPACITY_CHECK\s?=\s?"yes"$
^DATASTORE_MAD\s?=\s?\[$
^\s{4}arguments\s?=\s?"-t 15 -d dummy,fs,vmfs,lvm,ceph",$
^\s{4}executable\s?=\s?"one_datastore"$
^\]$
^DB\s?=\s?\[$
^\s{4}backend\s?=\s?"mysql",$
^\s{4}db_name\s?=\s?"opennebula",$
^\s{4}passwd\s?=\s?"my-fancy-pass",$
^\s{4}port\s?=\s?0,$
^\s{4}server\s?=\s?"localhost",$
^\s{4}user\s?=\s?"oneadmin"$
^\]$
^DEFAULT_CDROM_DEVICE_PREFIX\s?=\s?"hd"$
^DEFAULT_COST\s?=\s?\[$
^\s{4}cpu_cost\s?=\s?0,$
^\s{4}disk_cost\s?=\s?0,$
^\s{4}memory_cost\s?=\s?0$
^\]$
^DEFAULT_DEVICE_PREFIX\s?=\s?"vd"$
^DEFAULT_IMAGE_TYPE\s?=\s?"OS"$
^DEFAULT_UMASK\s?=\s?177$
^DS_MAD_CONF\s?=\s?\[$
^\s{4}name\s?=\s?"dummy",$
^\s{4}persistent_only\s?=\s?"no",$
^\s{4}required_attrs\s?=\s?""$
^\]$
^DS_MAD_CONF\s?=\s?\[$
^\s{4}marketplace_actions\s?=\s?"export",$
^\s{4}name\s?=\s?"ceph",$
^\s{4}persistent_only\s?=\s?"no",$
^\s{4}required_attrs\s?=\s?"DISK_TYPE, BRIDGE_LIST, CEPH_HOST, CEPH_USER, CEPH_SECRET"$
^\]$
^DS_MAD_CONF\s?=\s?\[$
^\s{4}name\s?=\s?"dev",$
^\s{4}persistent_only\s?=\s?"yes",$
^\s{4}required_attrs\s?=\s?"DISK_TYPE"$
^\]$
^DS_MAD_CONF\s?=\s?\[$
^\s{4}name\s?=\s?"iscsi_libvirt",$
^\s{4}persistent_only\s?=\s?"yes",$
^\s{4}required_attrs\s?=\s?"DISK_TYPE, ISCSI_HOST"$
^\]$
^DS_MAD_CONF\s?=\s?\[$
^\s{4}marketplace_actions\s?=\s?"export",$
^\s{4}name\s?=\s?"fs",$
^\s{4}persistent_only\s?=\s?"no",$
^\s{4}required_attrs\s?=\s?""$
^\]$
^DS_MAD_CONF\s?=\s?\[$
^\s{4}name\s?=\s?"lvm",$
^\s{4}persistent_only\s?=\s?"no",$
^\s{4}required_attrs\s?=\s?"DISK_TYPE, BRIDGE_LIST"$
^\]$
^DS_MAD_CONF\s?=\s?\[$
^\s{4}marketplace_actions\s?=\s?"export",$
^\s{4}name\s?=\s?"vcenter",$
^\s{4}persistent_only\s?=\s?"yes",$
^\s{4}required_attrs\s?=\s?"VCENTER_CLUSTER"$
^\]$
^FEDERATION\s?=\s?\[$
^\s{4}master_oned\s?=\s?"",$
^\s{4}mode\s?=\s?"STANDALONE",$
^\s{4}zone_id\s?=\s?0$
^\]$
^HM_MAD\s?=\s?\[$
^\s{4}executable\s?=\s?"one_hm"$
^\]$
^IM_MAD\s?=\s?\[$
^\s{4}name\s?=\s?"collectd",$
^\s{4}arguments\s?=\s?"-p 4124 -f 5 -t 50 -i 20",$
^\s{4}executable\s?=\s?"collectd"$
^\]$
^IM_MAD\s?=\s?\[$
^\s{4}name\s?=\s?"kvm",$
^\s{4}arguments\s?=\s?"-r 3 -t 15 kvm",$
^\s{4}executable\s?=\s?"one_im_ssh",$
^\s{4}sunstone_name\s?=\s?"KVM"$
^\]$
^IMAGE_RESTRICTED_ATTR\s?=\s?"SOURCE"$
^INHERIT_DATASTORE_ATTR\s?=\s?"CEPH_HOST"$
^INHERIT_DATASTORE_ATTR\s?=\s?"CEPH_SECRET"$
^INHERIT_DATASTORE_ATTR\s?=\s?"CEPH_USER"$
^INHERIT_DATASTORE_ATTR\s?=\s?"CEPH_CONF"$
^INHERIT_DATASTORE_ATTR\s?=\s?"RBD_FORMAT"$
^INHERIT_DATASTORE_ATTR\s?=\s?"POOL_NAME"$
^INHERIT_DATASTORE_ATTR\s?=\s?"ISCSI_USER"$
^INHERIT_DATASTORE_ATTR\s?=\s?"ISCSI_USAGE"$
^INHERIT_DATASTORE_ATTR\s?=\s?"ISCSI_HOST"$
^INHERIT_DATASTORE_ATTR\s?=\s?"GLUSTER_HOST"$
^INHERIT_DATASTORE_ATTR\s?=\s?"GLUSTER_VOLUME"$
^INHERIT_DATASTORE_ATTR\s?=\s?"DISK_TYPE"$
^INHERIT_DATASTORE_ATTR\s?=\s?"ADAPTER_TYPE"$
^INHERIT_IMAGE_ATTR\s?=\s?"ISCSI_USER"$
^INHERIT_IMAGE_ATTR\s?=\s?"ISCSI_USAGE"$
^INHERIT_IMAGE_ATTR\s?=\s?"ISCSI_HOST"$
^INHERIT_IMAGE_ATTR\s?=\s?"ISCSI_IQN"$
^INHERIT_IMAGE_ATTR\s?=\s?"DISK_TYPE"$
^INHERIT_IMAGE_ATTR\s?=\s?"ADAPTER_TYPE"$
^INHERIT_VNET_ATTR\s?=\s?"VLAN_TAGGED_ID"$
^INHERIT_VNET_ATTR\s?=\s?"BRIDGE_OVS"$
^INHERIT_VNET_ATTR\s?=\s?"FILTER_IP_SPOOFING"$
^INHERIT_VNET_ATTR\s?=\s?"FILTER_MAC_SPOOFING"$
^INHERIT_VNET_ATTR\s?=\s?"MTU"$
^LISTEN_ADDRESS\s?=\s?"0.0.0.0"$
^LOG\s?=\s?\[$
^\s{4}debug_level\s?=\s?3,$
^\s{4}system\s?=\s?"syslog"$
^\]$
^MAC_PREFIX\s?=\s?"02:00"$
^MARKET_MAD\s?=\s?\[$
^\s{4}arguments\s?=\s?"-t 15 -m http,s3,one",$
^\s{4}executable\s?=\s?"one_market"$
^\]$
^MARKET_MAD_CONF\s?=\s?\[$
^\s{4}app_actions\s?=\s?"monitor",$
^\s{4}name\s?=\s?"one",$
^\s{4}public\s?=\s?"yes",$
^\s{4}required_attrs\s?=\s?""$
^\]$
^MARKET_MAD_CONF\s?=\s?\[$
^\s{4}app_actions\s?=\s?"create, delete, monitor",$
^\s{4}name\s?=\s?"http",$
^\s{4}required_attrs\s?=\s?"BASE_URL, PUBLIC_DIR"$
^\]$
^MARKET_MAD_CONF\s?=\s?\[$
^\s{4}app_actions\s?=\s?"create, delete, monitor",$
^\s{4}name\s?=\s?"s3",$
^\s{4}required_attrs\s?=\s?"ACCESS_KEY_ID, SECRET_ACCESS_KEY, REGION, BUCKET"$
^\]$
^MONITORING_INTERVAL\s?=\s?60$
^MONITORING_THREADS\s?=\s?50$
^NETWORK_SIZE\s?=\s?254$
^ONEGATE_ENDPOINT\s?=\s?"http://hyp004.cubone.os:5030"$
^PORT\s?=\s?2633$
^SCRIPTS_REMOTE_DIR\s?=\s?"/var/tmp/one"$
^SESSION_EXPIRATION_TIME\s?=\s?900$
^TM_MAD\s?=\s?\[$
^\s{4}arguments\s?=\s?"-t 15 -d dummy,lvm,shared,fs_lvm,qcow2,ssh,ceph,dev,vcenter,iscsi_libvirt",$
^\s{4}executable\s?=\s?"one_tm"$
^\]$
^TM_MAD_CONF\s?=\s?\[$
^\s{4}clone_target\s?=\s?"SYSTEM",$
^\s{4}ds_migrate\s?=\s?"yes",$
^\s{4}ln_target\s?=\s?"NONE",$
^\s{4}name\s?=\s?"dummy",$
^\s{4}shared\s?=\s?"yes"$
^\]$
^TM_MAD_CONF\s?=\s?\[$
^\s{4}clone_target\s?=\s?"SELF",$
^\s{4}ln_target\s?=\s?"NONE",$
^\s{4}name\s?=\s?"lvm",$
^\s{4}shared\s?=\s?"yes"$
^\]$
^TM_MAD_CONF\s?=\s?\[$
^\s{4}clone_target\s?=\s?"SYSTEM",$
^\s{4}ds_migrate\s?=\s?"yes",$
^\s{4}ln_target\s?=\s?"NONE",$
^\s{4}name\s?=\s?"shared",$
^\s{4}shared\s?=\s?"yes"$
^\]$
^TM_MAD_CONF\s?=\s?\[$
^\s{4}clone_target\s?=\s?"SYSTEM",$
^\s{4}ln_target\s?=\s?"SYSTEM",$
^\s{4}name\s?=\s?"fs_lvm",$
^\s{4}shared\s?=\s?"yes"$
^\]$
^TM_MAD_CONF\s?=\s?\[$
^\s{4}clone_target\s?=\s?"SYSTEM",$
^\s{4}ln_target\s?=\s?"NONE",$
^\s{4}name\s?=\s?"qcow2",$
^\s{4}shared\s?=\s?"yes"$
^\]$
^TM_MAD_CONF\s?=\s?\[$
^\s{4}clone_target\s?=\s?"SYSTEM",$
^\s{4}ds_migrate\s?=\s?"yes",$
^\s{4}ln_target\s?=\s?"SYSTEM",$
^\s{4}name\s?=\s?"ssh",$
^\s{4}shared\s?=\s?"no"$
^\]$
^TM_MAD_CONF\s?=\s?\[$
^\s{4}clone_target\s?=\s?"SYSTEM",$
^\s{4}ln_target\s?=\s?"NONE",$
^\s{4}name\s?=\s?"vmfs",$
^\s{4}shared\s?=\s?"yes"$
^\]$
^TM_MAD_CONF\s?=\s?\[$
^\s{4}clone_target\s?=\s?"SELF",$
^\s{4}ds_migrate\s?=\s?"no",$
^\s{4}ln_target\s?=\s?"NONE",$
^\s{4}name\s?=\s?"ceph",$
^\s{4}shared\s?=\s?"yes"$
^\]$
^TM_MAD_CONF\s?=\s?\[$
^\s{4}clone_target\s?=\s?"SELF",$
^\s{4}ds_migrate\s?=\s?"no",$
^\s{4}ln_target\s?=\s?"NONE",$
^\s{4}name\s?=\s?"iscsi_libvirt",$
^\s{4}shared\s?=\s?"yes"$
^\]$
^TM_MAD_CONF\s?=\s?\[$
^\s{4}clone_target\s?=\s?"NONE",$
^\s{4}ln_target\s?=\s?"NONE",$
^\s{4}name\s?=\s?"dev",$
^\s{4}shared\s?=\s?"yes"$
^\]$
^TM_MAD_CONF\s?=\s?\[$
^\s{4}clone_target\s?=\s?"NONE",$
^\s{4}ln_target\s?=\s?"NONE",$
^\s{4}name\s?=\s?"vcenter",$
^\s{4}shared\s?=\s?"yes"$
^\]$
^VLAN_IDS\s?=\s?\[$
^\s{4}start\s?=\s?2$
^\]$
^VM_MAD\s?=\s?\[$
^\s{4}name\s?=\s?"kvm",$
^\s{4}type\s?=\s?"kvm",$
^\s{4}arguments\s?=\s?"-t 15 -r 0 kvm",$
^\s{4}default\s?=\s?"vmm_exec/vmm_exec_kvm.conf",$
^\s{4}executable\s?=\s?"one_vmm_exec",$
^\s{4}imported_vms_actions\s?=\s?"terminate, terminate-hard, hold, release, suspend, resume, delete, reboot, reboot-hard, resched, unresched, disk-attach, disk-detach, nic-attach, nic-detach, snap-create, snap-delete",$
^\s{4}keep_snapshots\s?=\s?"no",$
^\s{4}sunstone_name\s?=\s?"KVM"$
^\]$
^VM_RESTRICTED_ATTR\s?=\s?"CONTEXT/FILES"$
^VM_RESTRICTED_ATTR\s?=\s?"NIC/MAC"$
^VM_RESTRICTED_ATTR\s?=\s?"NIC/VLAN_ID"$
^VM_RESTRICTED_ATTR\s?=\s?"NIC/BRIDGE"$
^VM_RESTRICTED_ATTR\s?=\s?"NIC_DEFAULT/MAC"$
^VM_RESTRICTED_ATTR\s?=\s?"NIC_DEFAULT/VLAN_ID"$
^VM_RESTRICTED_ATTR\s?=\s?"NIC_DEFAULT/BRIDGE"$
^VM_RESTRICTED_ATTR\s?=\s?"DISK/TOTAL_BYTES_SEC"$
^VM_RESTRICTED_ATTR\s?=\s?"DISK/READ_BYTES_SEC"$
^VM_RESTRICTED_ATTR\s?=\s?"DISK/WRITE_BYTES_SEC"$
^VM_RESTRICTED_ATTR\s?=\s?"DISK/TOTAL_IOPS_SEC"$
^VM_RESTRICTED_ATTR\s?=\s?"DISK/READ_IOPS_SEC"$
^VM_RESTRICTED_ATTR\s?=\s?"DISK/WRITE_IOPS_SEC"$
^VM_RESTRICTED_ATTR\s?=\s?"DISK/ORIGINAL_SIZE"$
^VM_RESTRICTED_ATTR\s?=\s?"CPU_COST"$
^VM_RESTRICTED_ATTR\s?=\s?"MEMORY_COST"$
^VM_RESTRICTED_ATTR\s?=\s?"DISK_COST"$
^VM_RESTRICTED_ATTR\s?=\s?"PCI"$
^VM_RESTRICTED_ATTR\s?=\s?"USER_INPUTS"$
^VNC_BASE_PORT\s?=\s?5900$
^VNC_PORTS\s?=\s?\[$
^\s{4}start\s?=\s?5900$
^\]$
^VNET_RESTRICTED_ATTR\s?=\s?"VN_MAD"$
^VNET_RESTRICTED_ATTR\s?=\s?"PHYDEV"$
^VNET_RESTRICTED_ATTR\s?=\s?"VLAN_ID"$
^VNET_RESTRICTED_ATTR\s?=\s?"BRIDGE"$
^VNET_RESTRICTED_ATTR\s?=\s?"AR/VN_MAD"$
^VNET_RESTRICTED_ATTR\s?=\s?"AR/PHYDEV"$
^VNET_RESTRICTED_ATTR\s?=\s?"AR/VLAN_ID"$
^VNET_RESTRICTED_ATTR\s?=\s?"AR/BRIDGE"$
^VXLAN_IDS\s?=\s?\[$
^\s{4}start\s?=\s?2$
^\]$
